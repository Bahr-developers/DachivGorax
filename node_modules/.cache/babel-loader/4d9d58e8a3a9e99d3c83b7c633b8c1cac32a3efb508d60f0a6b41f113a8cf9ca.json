{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VICTUS\\\\OneDrive\\\\Desktop\\\\DachivGorax\\\\src\\\\components\\\\DachaMiniCard\\\\DachaMiniCard.jsx\",\n  _s = $RefreshSig$();\nimport \"./DachaMiniCard.css\";\nimport { FiHeart } from \"react-icons/fi\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { BASE_URL_SERVER } from \"../../constants/server.constants\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { QUERY_KEYS } from \"../../Query/query-keys\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DachaMiniCard = props => {\n  _s();\n  var _props$cottage, _props$cottage2;\n  const mainImg = props.cottage.images.find(e => e.isMainImage === true).image;\n  const queryClient = useQueryClient();\n  const accessToken = localStorage.getItem(\"accessToken\");\n  const refreshToken = localStorage.getItem(\"refreshToken\");\n  const navigate = useNavigate();\n  const handlLiked = id => {\n    if (accessToken && refreshToken) {\n      const likedCottage = JSON.parse(localStorage.getItem(\"liked\")) || [];\n      const isExist = likedCottage.includes(id);\n      if (isExist) {\n        const UpdatedLikedArr = likedCottage.filter(item => item != id);\n        localStorage.setItem(\"liked\", JSON.stringify(UpdatedLikedArr));\n      } else {\n        const updatedLike = [...likedCottage, id];\n        localStorage.setItem(\"liked\", JSON.stringify(updatedLike));\n      }\n      queryClient.invalidateQueries({\n        queryKey: [QUERY_KEYS.cottages]\n      });\n    } else {\n      navigate(\"/sign-in\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mini-card-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/home/view/${props.cottage.id}`,\n      className: \"dacha-mini-card shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(LazyLoadImage, {\n          className: \"view-img\",\n          effect: \"blur\",\n          src: `${BASE_URL_SERVER}${mainImg}`,\n          alt: \"dacha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: props.cottage.cottageStatus === \"progress\" ? \"no-active-text-mini\" : \"d-none\",\n          children: \"\\u041D\\u0435 \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u043E\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: props.cottage.cottageStatus === \"progress\" ? \"overlay-img-card\" : \"d-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mini-card-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"dmc-name oswald\",\n          children: props.cottage.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dmc-text\",\n          children: [props.cottage.region.name, \" \", props.cottage.place.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mini-card-price\",\n          children: [(_props$cottage = props.cottage) === null || _props$cottage === void 0 ? void 0 : _props$cottage.price, \"$\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: props.cottage.cottageStatus === \"progress\" ? \"d-none\" : \"mini-cart-heart-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handlLiked(props.cottage.id),\n        className: `dmc-like ${((_props$cottage2 = props.cottage) === null || _props$cottage2 === void 0 ? void 0 : _props$cottage2.isLiked) === true ? \"dmc-like-active\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(FiHeart, {\n          className: `dacha-mini-heart-icon ${props.cottage.isLiked === true ? \"dacha-mini-heart-active\" : \"\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(DachaMiniCard, \"YcyLSgbqkgGjsycM969wifOg41M=\", false, function () {\n  return [useQueryClient, useNavigate];\n});\n_c = DachaMiniCard;\nexport default DachaMiniCard;\nvar _c;\n$RefreshReg$(_c, \"DachaMiniCard\");","map":{"version":3,"names":["FiHeart","Link","useNavigate","BASE_URL_SERVER","useQueryClient","QUERY_KEYS","LazyLoadImage","DachaMiniCard","props","mainImg","cottage","images","find","e","isMainImage","image","queryClient","accessToken","localStorage","getItem","refreshToken","navigate","handlLiked","id","likedCottage","JSON","parse","isExist","includes","UpdatedLikedArr","filter","item","setItem","stringify","updatedLike","invalidateQueries","queryKey","cottages","cottageStatus","name","region","place","price","isLiked"],"sources":["C:/Users/VICTUS/OneDrive/Desktop/DachivGorax/src/components/DachaMiniCard/DachaMiniCard.jsx"],"sourcesContent":["import \"./DachaMiniCard.css\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { BASE_URL_SERVER } from \"../../constants/server.constants\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\nimport { QUERY_KEYS } from \"../../Query/query-keys\";\r\n\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n\r\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\r\n\r\nconst DachaMiniCard = (props) => {\r\n  const mainImg = props.cottage.images.find(\r\n    (e) => e.isMainImage === true\r\n  ).image;\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const accessToken = localStorage.getItem(\"accessToken\");\r\n  const refreshToken = localStorage.getItem(\"refreshToken\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handlLiked = (id) => {\r\n    if (accessToken && refreshToken) {\r\n      const likedCottage = JSON.parse(localStorage.getItem(\"liked\")) || [];\r\n      const isExist = likedCottage.includes(id);\r\n\r\n      if (isExist) {\r\n        const UpdatedLikedArr = likedCottage.filter((item) => item != id);\r\n        localStorage.setItem(\"liked\", JSON.stringify(UpdatedLikedArr));\r\n      } else {\r\n        const updatedLike = [...likedCottage, id];\r\n        localStorage.setItem(\"liked\", JSON.stringify(updatedLike));\r\n      }\r\n      queryClient.invalidateQueries({ queryKey: [QUERY_KEYS.cottages] });\r\n    } else {\r\n      navigate(\"/sign-in\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mini-card-wrap\">\r\n      <Link\r\n        to={`/home/view/${props.cottage.id}`}\r\n        className=\"dacha-mini-card shadow\"\r\n      >\r\n        <div className=\"img-wrap\">\r\n          <LazyLoadImage\r\n            className=\"view-img\"\r\n            effect=\"blur\"\r\n            src={`${BASE_URL_SERVER}${mainImg}`}\r\n            alt=\"dacha\"\r\n          />\r\n          <p\r\n            className={\r\n              props.cottage.cottageStatus === \"progress\"\r\n                ? \"no-active-text-mini\"\r\n                : \"d-none\"\r\n            }\r\n          >\r\n            Не активное\r\n          </p>\r\n          <div\r\n            className={\r\n              props.cottage.cottageStatus === \"progress\"\r\n                ? \"overlay-img-card\"\r\n                : \"d-none\"\r\n            }\r\n          ></div>\r\n        </div>\r\n        <div className=\"mini-card-info\">\r\n          <h5 className=\"dmc-name oswald\">{props.cottage.name}</h5>\r\n          <p className=\"dmc-text\">\r\n            {props.cottage.region.name} {props.cottage.place.name}\r\n          </p>\r\n          <p className=\"mini-card-price\">{props.cottage?.price}$</p>\r\n        </div>\r\n      </Link>\r\n      <div\r\n        className={\r\n          props.cottage.cottageStatus === \"progress\"\r\n            ? \"d-none\"\r\n            : \"mini-cart-heart-wrap\"\r\n        }\r\n      >\r\n        <div\r\n          onClick={() => handlLiked(props.cottage.id)}\r\n          className={`dmc-like ${\r\n            props.cottage?.isLiked === true ? \"dmc-like-active\" : \"\"\r\n          }`}\r\n        >\r\n          <FiHeart\r\n            className={`dacha-mini-heart-icon ${\r\n              props.cottage.isLiked === true ? \"dacha-mini-heart-active\" : \"\"\r\n            }`}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DachaMiniCard;\r\n"],"mappings":";;AAAA,OAAO,qBAAqB;AAC5B,SAASA,OAAO,QAAQ,gBAAgB;AACxC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,eAAe,QAAQ,kCAAkC;AAClE,SAASC,cAAc,QAAQ,uBAAuB;AACtD,SAASC,UAAU,QAAQ,wBAAwB;AAEnD,SAASC,aAAa,QAAQ,iCAAiC;AAE/D,OAAO,sDAAsD;AAAC;AAE9D,MAAMC,aAAa,GAAIC,KAAK,IAAK;EAAA;EAAA;EAC/B,MAAMC,OAAO,GAAGD,KAAK,CAACE,OAAO,CAACC,MAAM,CAACC,IAAI,CACtCC,CAAC,IAAKA,CAAC,CAACC,WAAW,KAAK,IAAI,CAC9B,CAACC,KAAK;EAEP,MAAMC,WAAW,GAAGZ,cAAc,EAAE;EAEpC,MAAMa,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EACvD,MAAMC,YAAY,GAAGF,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAEzD,MAAME,QAAQ,GAAGnB,WAAW,EAAE;EAE9B,MAAMoB,UAAU,GAAIC,EAAE,IAAK;IACzB,IAAIN,WAAW,IAAIG,YAAY,EAAE;MAC/B,MAAMI,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACR,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;MACpE,MAAMQ,OAAO,GAAGH,YAAY,CAACI,QAAQ,CAACL,EAAE,CAAC;MAEzC,IAAII,OAAO,EAAE;QACX,MAAME,eAAe,GAAGL,YAAY,CAACM,MAAM,CAAEC,IAAI,IAAKA,IAAI,IAAIR,EAAE,CAAC;QACjEL,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAACJ,eAAe,CAAC,CAAC;MAChE,CAAC,MAAM;QACL,MAAMK,WAAW,GAAG,CAAC,GAAGV,YAAY,EAAED,EAAE,CAAC;QACzCL,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEP,IAAI,CAACQ,SAAS,CAACC,WAAW,CAAC,CAAC;MAC5D;MACAlB,WAAW,CAACmB,iBAAiB,CAAC;QAAEC,QAAQ,EAAE,CAAC/B,UAAU,CAACgC,QAAQ;MAAE,CAAC,CAAC;IACpE,CAAC,MAAM;MACLhB,QAAQ,CAAC,UAAU,CAAC;IACtB;EACF,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,gBAAgB;IAAA,wBAC7B,QAAC,IAAI;MACH,EAAE,EAAG,cAAab,KAAK,CAACE,OAAO,CAACa,EAAG,EAAE;MACrC,SAAS,EAAC,wBAAwB;MAAA,wBAElC;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB,QAAC,aAAa;UACZ,SAAS,EAAC,UAAU;UACpB,MAAM,EAAC,MAAM;UACb,GAAG,EAAG,GAAEpB,eAAgB,GAAEM,OAAQ,EAAE;UACpC,GAAG,EAAC;QAAO;UAAA;UAAA;UAAA;QAAA,QACX,eACF;UACE,SAAS,EACPD,KAAK,CAACE,OAAO,CAAC4B,aAAa,KAAK,UAAU,GACtC,qBAAqB,GACrB,QACL;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAGC,eACJ;UACE,SAAS,EACP9B,KAAK,CAACE,OAAO,CAAC4B,aAAa,KAAK,UAAU,GACtC,kBAAkB,GAClB;QACL;UAAA;UAAA;UAAA;QAAA,QACI;MAAA;QAAA;QAAA;QAAA;MAAA,QACH,eACN;QAAK,SAAS,EAAC,gBAAgB;QAAA,wBAC7B;UAAI,SAAS,EAAC,iBAAiB;UAAA,UAAE9B,KAAK,CAACE,OAAO,CAAC6B;QAAI;UAAA;UAAA;UAAA;QAAA,QAAM,eACzD;UAAG,SAAS,EAAC,UAAU;UAAA,WACpB/B,KAAK,CAACE,OAAO,CAAC8B,MAAM,CAACD,IAAI,OAAG/B,KAAK,CAACE,OAAO,CAAC+B,KAAK,CAACF,IAAI;QAAA;UAAA;UAAA;UAAA;QAAA,QACnD,eACJ;UAAG,SAAS,EAAC,iBAAiB;UAAA,6BAAE/B,KAAK,CAACE,OAAO,mDAAb,eAAegC,KAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QAAM;MAAA;QAAA;QAAA;QAAA;MAAA,QACtD;IAAA;MAAA;MAAA;MAAA;IAAA,QACD,eACP;MACE,SAAS,EACPlC,KAAK,CAACE,OAAO,CAAC4B,aAAa,KAAK,UAAU,GACtC,QAAQ,GACR,sBACL;MAAA,uBAED;QACE,OAAO,EAAE,MAAMhB,UAAU,CAACd,KAAK,CAACE,OAAO,CAACa,EAAE,CAAE;QAC5C,SAAS,EAAG,YACV,oBAAAf,KAAK,CAACE,OAAO,oDAAb,gBAAeiC,OAAO,MAAK,IAAI,GAAG,iBAAiB,GAAG,EACvD,EAAE;QAAA,uBAEH,QAAC,OAAO;UACN,SAAS,EAAG,yBACVnC,KAAK,CAACE,OAAO,CAACiC,OAAO,KAAK,IAAI,GAAG,yBAAyB,GAAG,EAC9D;QAAE;UAAA;UAAA;UAAA;QAAA;MACH;QAAA;QAAA;QAAA;MAAA;IACE;MAAA;MAAA;MAAA;IAAA,QACF;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAC,GA1FIpC,aAAa;EAAA,QAKGH,cAAc,EAKjBF,WAAW;AAAA;AAAA,KAVxBK,aAAa;AA4FnB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}