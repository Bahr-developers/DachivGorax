{"ast":null,"code":"import custimAxios from \"../configs/axios.config\";\nexport const authUtils = {\n  loginAuth: async _ref => {\n    let {\n      smsCode,\n      userId\n    } = _ref;\n    const {\n      data\n    } = await custimAxios.post(\"/auth/login\", {\n      smsCode,\n      userAgent: window.navigator.userAgent,\n      userId\n    });\n    localStorage.setItem(\"accessToken\", data.accessToken);\n    localStorage.setItem(\"refreshToken\", data.refreshToken);\n    localStorage.setItem(\"user\", JSON.stringify(data === null || data === void 0 ? void 0 : data.user));\n\n    // rewrite axios token\n    custimAxios.defaults.headers.common[\"Authorization\"] = `Bearer ${data.accessToken}`;\n    return data;\n  },\n  smsAuth: async _ref2 => {\n    let {\n      phone\n    } = _ref2;\n    const {\n      data\n    } = await custimAxios.post(\"/auth/login/sms\", {\n      phone\n    });\n    return data;\n  },\n  refreshAuth: async () => {\n    const {\n      data\n    } = await custimAxios.post(\"/auth/refresh\", {\n      userAgent: window.navigator.userAgent\n    }, {\n      headers: {\n        refreshToken: localStorage.getItem(\"refreshToken\")\n      }\n    });\n    localStorage.setItem(\"accessToken\", data.accessToken);\n    localStorage.setItem(\"refreshToken\", data.refreshToken);\n\n    // rewrite axios token\n    custimAxios.defaults.headers.common[\"Authorization\"] = `Bearer ${localStorage.getItem(\"accessToken\")}`;\n    return data;\n  }\n};","map":{"version":3,"names":["custimAxios","authUtils","loginAuth","smsCode","userId","data","post","userAgent","window","navigator","localStorage","setItem","accessToken","refreshToken","JSON","stringify","user","defaults","headers","common","smsAuth","phone","refreshAuth","getItem"],"sources":["/Users/macbook/Desktop/gorax/src/utils/auth.utils.js"],"sourcesContent":["import custimAxios from \"../configs/axios.config\";\n\nexport const authUtils = {\n  loginAuth: async ({ smsCode, userId }) => {\n    const { data } = await custimAxios.post(\"/auth/login\", {\n      smsCode,\n      userAgent: window.navigator.userAgent,\n      userId,\n    });\n\n    localStorage.setItem(\"accessToken\", data.accessToken);\n    localStorage.setItem(\"refreshToken\", data.refreshToken);\n    localStorage.setItem(\"user\", JSON.stringify(data?.user));\n\n    // rewrite axios token\n    custimAxios.defaults.headers.common[\n      \"Authorization\"\n    ] = `Bearer ${data.accessToken}`;\n\n    return data;\n  },\n\n  smsAuth: async ({ phone }) => {\n    const { data } = await custimAxios.post(\"/auth/login/sms\", { phone });\n    return data;\n  },\n\n  refreshAuth: async () => {\n    const { data } = await custimAxios.post(\n      \"/auth/refresh\",\n      {\n        userAgent: window.navigator.userAgent,\n      },\n      {\n        headers: {\n          refreshToken: localStorage.getItem(\"refreshToken\"),\n        },\n      }\n    );\n\n    localStorage.setItem(\"accessToken\", data.accessToken);\n    localStorage.setItem(\"refreshToken\", data.refreshToken);\n\n    // rewrite axios token\n    custimAxios.defaults.headers.common[\n      \"Authorization\"\n    ] = `Bearer ${localStorage.getItem(\"accessToken\")}`;\n\n    return data;\n  },\n};\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,yBAAyB;AAEjD,OAAO,MAAMC,SAAS,GAAG;EACvBC,SAAS,EAAE,cAA+B;IAAA,IAAxB;MAAEC,OAAO;MAAEC;IAAO,CAAC;IACnC,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAML,WAAW,CAACM,IAAI,CAAC,aAAa,EAAE;MACrDH,OAAO;MACPI,SAAS,EAAEC,MAAM,CAACC,SAAS,CAACF,SAAS;MACrCH;IACF,CAAC,CAAC;IAEFM,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEN,IAAI,CAACO,WAAW,CAAC;IACrDF,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,IAAI,CAACQ,YAAY,CAAC;IACvDH,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEG,IAAI,CAACC,SAAS,CAACV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW,IAAI,CAAC,CAAC;;IAExD;IACAhB,WAAW,CAACiB,QAAQ,CAACC,OAAO,CAACC,MAAM,CACjC,eAAe,CAChB,GAAI,UAASd,IAAI,CAACO,WAAY,EAAC;IAEhC,OAAOP,IAAI;EACb,CAAC;EAEDe,OAAO,EAAE,eAAqB;IAAA,IAAd;MAAEC;IAAM,CAAC;IACvB,MAAM;MAAEhB;IAAK,CAAC,GAAG,MAAML,WAAW,CAACM,IAAI,CAAC,iBAAiB,EAAE;MAAEe;IAAM,CAAC,CAAC;IACrE,OAAOhB,IAAI;EACb,CAAC;EAEDiB,WAAW,EAAE,YAAY;IACvB,MAAM;MAAEjB;IAAK,CAAC,GAAG,MAAML,WAAW,CAACM,IAAI,CACrC,eAAe,EACf;MACEC,SAAS,EAAEC,MAAM,CAACC,SAAS,CAACF;IAC9B,CAAC,EACD;MACEW,OAAO,EAAE;QACPL,YAAY,EAAEH,YAAY,CAACa,OAAO,CAAC,cAAc;MACnD;IACF,CAAC,CACF;IAEDb,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEN,IAAI,CAACO,WAAW,CAAC;IACrDF,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,IAAI,CAACQ,YAAY,CAAC;;IAEvD;IACAb,WAAW,CAACiB,QAAQ,CAACC,OAAO,CAACC,MAAM,CACjC,eAAe,CAChB,GAAI,UAAST,YAAY,CAACa,OAAO,CAAC,aAAa,CAAE,EAAC;IAEnD,OAAOlB,IAAI;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}